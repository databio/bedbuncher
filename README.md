# bedbuncher
Pipeline designed to create **bedsets** (sets of BED files) that will be retrieved from bedbase.

Example bedsets:
- Bed files from the AML database.
- Bed files from the EWS database.
- Bed files from ChiP-seq experiments.


## Before running the pipeline 
**Required**: A PEP will with an attribute specifying a path to a `JSON` file that contains the query to create the `bedset` (see the `project` directory for reference).


## To run the pipeline 
1. Clone the repository
2. Install required python packages via 
```
pip install -r requirements/requirements.txt --user
```



3. Submit the pipeline with [`looper`](https://looper.readthedocs.io/en/latest/)

```
looper run project/cfg.yaml
```

## Pipeline outputs
bedbuncher generates the following files as well as links within the Elastic Search `bedset` index from which they can be retrieved:
- TAR ball containing the BED files that match the query criteria.
- Dataframe where rows represent individual BED files and columns show statistics generated by GenomicDistributions (for ease of user-needed calculations).
- iGD database created from the bedset.
- Bedset statistics (currenty means and standard deviations). 
